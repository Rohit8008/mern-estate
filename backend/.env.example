# ===========================================
# MERN Estate API - Environment Configuration
# ===========================================
# Copy this file to .env and fill in your values
# NEVER commit your .env file to version control

# ---- Server Configuration ----
NODE_ENV=development
PORT=3000
HOST=0.0.0.0

# ---- Database Configuration ----
# MongoDB connection string
# For local development: mongodb://127.0.0.1:27017/mern-estate
# For production: Use MongoDB Atlas or your cloud provider
MONGO_URI=mongodb://127.0.0.1:27017/mern-estate

# Database connection pool settings
DB_MAX_POOL_SIZE=10
DB_SERVER_SELECTION_TIMEOUT=5000
DB_SOCKET_TIMEOUT=45000

# ---- Authentication & JWT ----
# IMPORTANT: Generate secure random strings for production
# Use: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
REFRESH_SECRET=your-refresh-secret-key-change-this-in-production
ACCESS_TOKEN_EXPIRY=15m
REFRESH_TOKEN_EXPIRY=30d
JWT_ISSUER=mern-estate-api
JWT_AUDIENCE=mern-estate-client

# ---- Security Configuration ----
BCRYPT_ROUNDS=12
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900000
SESSION_TIMEOUT=86400000
PASSWORD_MIN_LENGTH=8
ENABLE_RATE_LIMITING=true
ENABLE_SECURITY_HEADERS=true
ENABLE_CORS=true

# ---- CORS Configuration ----
# Frontend URL for CORS (comma-separated for multiple origins)
FRONTEND_URL=http://localhost:5173
ADMIN_URL=

# ---- Rate Limiting ----
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX=10
STRICT_RATE_LIMIT_MAX=20

# ---- File Upload Configuration ----
MAX_FILE_SIZE=10485760
UPLOAD_PATH=uploads
MAX_FILES_PER_UPLOAD=10

# ---- Email Configuration (SMTP) ----
# Required for password reset and notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
EMAIL_FROM=noreply@your-domain.com

# ---- SMS Configuration (Twilio) ----
# Optional - for SMS notifications
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_FROM_NUMBER=

# ---- Message Encryption ----
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
MESSAGE_ENCRYPTION_KEY=

# ---- Logging Configuration ----
LOG_LEVEL=info
ENABLE_FILE_LOGGING=true
LOG_RETENTION_DAYS=30
ENABLE_AUDIT_LOGGING=true

# ---- Cache Configuration ----
CACHE_TTL=300
CACHE_MAX_SIZE=100
ENABLE_REDIS=false
REDIS_URL=

# ---- API Configuration ----
API_VERSION=v1
API_BASE_URL=/api
ENABLE_SWAGGER=false
ENABLE_METRICS=false

# ---- Error Tracking (Sentry) ----
# Sign up at https://sentry.io and get your DSN
SENTRY_DSN=
